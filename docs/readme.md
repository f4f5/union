# Union 的设计逻辑

## 定义
* union &nbsp;&nbsp;&nbsp;&nbsp;    项目名称，union是多台主机采用统一规范组成的一个网络. 一般的，一台电脑主机就是一个union节点，一个节点包含：连接器、区块链、服务三类进程。
* 连接器 &nbsp;&nbsp; &nbsp;  union系统的一个进程，帮助在union系统的每台主机维护一份资源定位表
* 区块链 &nbsp; 区块链服务为系统提供虚拟货币和智能合约功能。
* 服务  &nbsp;&nbsp; &nbsp;    服务也是一个进程，为客户端提供特定的服务。
* 资源定位表 &nbsp; 每台主机都会有的一份json文件，保存了union系统里的每个节点的连接信息
* 客户端 &nbsp;&nbsp; &nbsp; 客户端可以是浏览器、app；客户端首先连接任意节点更新资源定位表，之后连接 区块链 进行 钱包/身份 认证，之后在连接服务获得服务。

## 概述
Union系统是一整套的软件。它最初的构想是要实现两个目标：1、使得闲着的计算资源如个人电脑等得到利用；2.突破互联网在政治上的局部封锁。我们每个人的个人电脑都是独立的，很多时候会有资源浪费，假如有一个软件，你只要运行它，就能出售自己电脑上多余的计算资源，获得相应的收入，那将会是很好的事。目前，有些国家会对一些常用的网站进行封锁，限制，造成互联网的不自由。思想有好的，也有坏的；检验的标准不是个人也不是民族的意志，而是用时间，淘优汰劣。Union就是要实现计算资源的有效利用与互联网自由。Union可以将世界各地的电脑连接起来，并让这些电脑架设统一的服务（软件），再由系统内的资源定位表提供给客户端自由的访问这些资源。系统内部署EOS区块链系统，发型Union币，因为人们可以通过Union获取服务，也可以提供服务，所以这些都是有价服务，这也将成为Union币的价值基础。

Union是个很庞大的项目，是一整套分布式的服务网络，而且会有各种不同类型的服务各司其职，互相交互，就如同一个抽象的虚拟公司 。区块链司财务与身份验证，连接器司各类资源定位，各种类型的服务为终端用户提供各种有价服务赚取收益 。涉及到socket 、数据库、支付体系、网站建设、移动端 App （没做）、网络安全、区块链等

举例说：假设有网站A，还有游戏服务B想架设在Union上；那么Union会分配网络内的一部分主机（个人电脑）的后台运行网站A的服务器程序，一部分主机的union服务运行B；当客户端想访问网站A时，将先从Union网络内的任意节点获得资源定位表（相当于充当DNS功能），然后挑选合适的架设了A网站的主机ip访问A网站；所以A网站在设计时只需要符合union的一些编写规范就行。资源定位表是Union内的每台主机都会有的，所以只要客户端连接上Union内的任意一台主机，几乎就能获得网络内的所有资源。

以上是一个主体的思想，因为Union内的主机可以架设任意服务，所以当然也可以是VPN。整套网络需要一个安全机制，奖惩机制，身份验证机制，这都是通过区块链技术实现的。上一段说到的资源定位表，也需要一个额外的服务对这个表进行更新维护，我们把这个服务称为连接器。这些就是Union系统最主要的三个部分：区块链部分， 可插拔的服务， 连接器。 当然，还需要额外的客户端程序，这样才好访问整个网络。

现在，你可以想象这样一个网络。这个网络参与者可以来自世界各地。网络是有一些“中心”的，这个中心就是官方网站以及对应的区块链相关的服务。你打开自己电脑的一个特殊的浏览器或者一个运用程序，就可以进入这个网络。首先你会来到官网，官网上你可以创建、登录自己的账户，查看自己的区块链钱包，虚拟币可以自由的和法币兑换、转账，可以和世界各地的人进行甚至是金融交易。未来、上面可能有一套自己的商城，有VPN服务，有各种游戏等等。或许你会说，这没啥区别啊，现在的互联网就是这样的。也是，也不是，区别在于现在的互联网是受国家监管的，某一个网站封了就封了。而这个网络里的内容，很难被限制。Union也将会有自己的一套交易所，独立于目前已有的交易所，思想是用智能合约让交易的双方进行抵押交易，p2p的进行，第三方只对信用进行评估，以及发生纠纷时进行处理。此时，你是作为服务的获取者进入这个网络的。你当然还可以以服务提供者身份进入这个网络，这样你将能从这个网络上赚钱。

一方面，官方网站上可能会发布一些类似于“外包”的任务，比如对Union系统的推广，比如系统的升级开发等等。这些任务由被智能合约选定的一些管理账号进行发布，这些管理账号类似于EOS里的超级节点。评估方式，奖励方式也会被写入智能合约里。另一方面，你可以出售自己的电脑的计算资源；比如晚上睡觉了，可以让电脑一夜开着运行一些程序以获得Union币奖励。这些程序都是被提前开发好的，限定了对电脑的资源访问权限。这些程序其实就是上一段中提到的那些服务，这些在官网里都是可以选择的。比如你的电脑可以架设官方提供的VPN服务器软件，为网络里的其他用户使用。当你完成了相应的任务，就会获得相应的Union币奖励。当用户慢慢发展起来后，币价也会上升，从而吸引更多的人，实现良性循环。 

## 区块链
区块链部分就是整套系统的奖惩以及账户管理系统。 会有用户钱包以及内置的虚拟币，暂定名字为unionCoin。 目前主要基于一个开源的区块链框架<a href="https://developers.eos.io/eosio-home/docs">EOSIO</a>

区块链也可以认为是服务的一种，只是这种服务是官方提供的，或者说不可缺少的。虽然从功能上，可以不使用区块链而是额外的编写程序实现账户管理、充值平台币等功能。并且这样还能避免区块链的一些吞吐量等问题。但union系统本身是开放性的，分布式的，公信力来源于公众的参与。union会从公众中挑选出有限的几个代表，对整个系统的未来发展做出贡献。任意一个个体无法对整个系统做出随意的更改，改变的权限以及规则会写入代码————这些很多理念可以借鉴于区块链，互为参考。所以，区块链是不可替代的，因为它正好符合union系统。

union系统的目标是整合资源做一些“超乎想象”的事，当然这些讨论要在union系统获得成功后才有意义。外太空探索、强人工智能、永生、脑机接口等等，这些超现实的研究无论是一个国家、民族、公司可能都不能很好的胜任。这些研究是全人类的事，union系统也正好可以是一个超脱于国家、民族、公司界限的产品。设定这个终极目标可以让union在获得成功后不会资源滥用，也可以让union与全人类文明共同进步。区块链的引入正好可以实现上文的一些设想。很多规则可写入智能合约执行作为约束。而区块链本身监管着资源的分配，只需要设定合适的任务，就可以有效的朝目标前进。而且区块链也使得这些公开透明化，大众监管，可参与。

Union采用的是EOS.IO系统，考虑到为了维持用户的可能性增长，将会部署多条区块链。举例说，每100万人共用一条链，之后的人，将会加入另外的一条链，链与链之间可以进行跨链交易。所有的链都采用EOS系统，都用同一套货币。当然，客户端用户不会感觉到有什么区别。客户端将首先从官网登录，然后获取它的账号所对应的链，再从连接器获得可用的服务器ip，然后就可以接入到区块链进行交易了。

从设计上，区块链暂时只需要搭建起来接入整套系统就行，后继的开发会需要但是不是当前阶段所必须的，当前需要的功能eos大都自带了。其它的功能更多的主要是由官网提供，包括账号登录，基本信息展示。官网也是分布式的，没有区块链那么“分布”，官网和区块链的关系可以认为区块链只是实现了官网当中“管钱”的功能。



## 服务
服务可以分为“官方”指定的一些服务，还有一些私人架设的服务，当然之后要讨论的都是*官方服务*。也可以按照提供的服务类型来进行划分，例如提供某些特定网站的网站服务，提供身份识别与财务功能的区块链服务等。

### 区块链
区块链其实也属于为服务的一部分，只是区块链类的服务在系统中的重要性比较高。结构上都是类似的，每一类服务都自己处于自己的子网中，同时也可以通过资源定位表访问其它子网。目前依据交易吞吐，采用了EOS系统作为区块链部分。由于Union系统本身的一些特性，会对一些智能合约做出一些改动。区块链保存了所有用户的钱包类信息，交易信息，等等。虽然区块链是去中心化的，但是在Union里也可以认为是中心化的。可以简单认为区块链只提供了钱包维护和钱包间的转账功能。通过EOS的配置文件，可以使得区块链网络连接到Union系统。

### 官方网站
官网一打开应该是一个面板类的页面，在其中可以添加、搜索自己感兴趣的服务。有一些服务是必须的，例如个人中心（钱包）、官方信息、VPN、交易市场等。

用户一般需要登录到官网获取更多的服务，登录官网后一般也就登录了钱包。用户的个人信息会保存在分布式的数据库中。用户先登录官网，获取区块链的登录信息，然后登录到区块链获取钱包相关的信息,在钱包展示页面有转账等选项。

### 交易市场
交易市场是官网功能的一个部分。价格走势图像/挂单交易/法币兑换等  

### VPN
GitHub的 f4f5 里已经上传的shadowsocks就是一个VPN服务的源码。这个不是我写的，是网上开源的。


## Client API
## Server API

